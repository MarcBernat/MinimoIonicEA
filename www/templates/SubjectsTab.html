<ion-view view-title="Subjects">
  <ion-content>
    <div class="button-bar bar-light">
      <a class="button" style="border-radius:0" ng-click="activeButton='a'; showPopupSearch();" ng-class="{'active':activeButton==='a'}">Search</a>
      <a class="button" style="border-radius:0" ng-click="activeButton='b'; OrderSubjects('alpha');" ng-class="{'active':activeButton==='b'}">Sort by ABC</a>
      <a class="button" style="border-radius:0" ng-click="activeButton='c'; orderQuery.order = '-students.length'; Clean();" ng-class="{'active':activeButton==='c'}">Sort by Num</a>
    </div>
    <ion-list>
      <ion-item ng-repeat="sub in subjects | orderBy : orderQuery.order">
            <a class="item item-button-right" href="#/tab/subjectsdetail/{{sub._id}}">
              <h2>{{sub.name}}</h2>
              <h2>{{sub.when}}</h2>
              <h2>{{sub.students.length}} Students</h2>
              <h2>Students:</h2>
              <div ng-repeat="stu in sub.students">
                <h3>{{stu.name}}</h3>
              </div>
              <button class="button button-positive">
                <i class="icon ion-wrench"></i>
              </button>
            </a>
      </ion-item>
    </ion-list>
  </ion-content>
</ion-view>
